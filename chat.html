<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Chat</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <div id="tos-popup" class="popup">
    <p>Please read and agree to our 
      <a href="https://technosaqib.github.io/chat(terms-of-service).txt" target="_blank">Terms of Service</a> 
      and 
      <a href="https://technosaqib.github.io/chat(privacy-policy).txt" target="_blank">Privacy Policy</a> 
      before using this website.
    </p>
    <button onclick="agreeTOS()">I Agree</button>
    <button onclick="disagreeTOS()">I Disagree</button>
  </div>

  <div id="main-interface" style="display:none">
    <h2>Welcome to Chat!</h2>

    <div class="input-section">
      <input type="text" id="username" placeholder="Enter your name" />
      <button onclick="registerUser()">Start</button>
    </div>

    <div id="chat-interface" style="display:none">
      <p>Your ID: <span id="my-id"></span>
        <button onclick="copyID()">Copy</button>
        <button onclick="shareID()">Share</button>
      </p>

      <input type="text" id="friend-id" placeholder="Enter friend's ID" />
      <button onclick="connect()">Connect</button>

      <div class="video-container">
        <video id="local-video" autoplay muted></video>
        <video id="remote-video" autoplay></video>
      </div>

      <div class="controls">
        <button onclick="startVoiceCall()">Voice Call</button>
        <button onclick="startVideoCall()">Video Call</button>
        <button onclick="stopCall()">Stop Call</button>
      </div>

      <div class="chat-box">
        <input type="text" id="message-input" placeholder="Type message..." />
        <button onclick="sendMessage()">Send</button>
        <div id="messages"></div>
      </div>
    </div>
  </div>

  <script src="https://unpkg.com/peerjs@1.4.7/dist/peerjs.min.js"></script>
  <script src="chat.js"></script>
</body>
</html>
